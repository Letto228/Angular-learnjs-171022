<ng-container *ngIf="product$ | async as product; else spiner">
	<div>
		<div
			*appCarousel="
				let img of product.images;
				let nextItem = nextItem;
				let backItem = backItem
			"
			class="galerey"
		>
			<button mat-icon-button (click)="backItem()">
				<mat-icon> chevron_left </mat-icon>
			</button>
			<img mat-card-image alt="Product photo" [src]="img.url" />
			<button mat-icon-button (click)="nextItem()">
				<mat-icon> chevron_right </mat-icon>
			</button>
		</div>
	</div>
	<div>
		<h1>{{ product.name }}</h1>
		<nav mat-tab-nav-bar>
			<a
				mat-tab-link
				routerLink="./description"
				[queryParams]="{
					text: 'description'
				}"
			>
				description
			</a>
			<a mat-tab-link routerLink="./type"> type </a>
		</nav>

		<router-outlet></router-outlet>
	</div>
</ng-container>

<ng-template #spiner>
	<mat-spinner class="spiner"></mat-spinner>
</ng-template>
